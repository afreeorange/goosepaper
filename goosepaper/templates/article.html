{% extends "page.html" %}
{% block title %} {{ article.title }} {% endblock %}

{% block content %}

    <article>
        <div class="row">
            <div class="col-sm-9">
                <header>
                    <h1>{{ article.title }}</h1>
                </header>
            </div>
            <div class="col-sm-3 big-right">
                <h2 class="options right">
                    <a href="/" title="Home" class="glyphicon glyphicon-home"><span>Home</span></a>
                    <a article-id="{{ article.id }}" class="favorite glyphicon {% if article.favorite -%}
                    on glyphicon-heart
                    {%- else -%}
                    off glyphicon-heart-empty
                    {%- endif %}"><span>Favorite article</span></a>
                    <a href="javascript://" title="Add to archive" article-id="{{ article.id }}" class="archive glyphicon 
                    {% if article.archived -%}
                    on 
                    {%- else -%}
                    off 
                    {%- endif %}
                    glyphicon-folder-close"><span>Add to archive</span></a>
                    <a href="javascript://" class="delete-article glyphicon glyphicon-trash" article-id="{{ article.id }}"><span>Remove article</span></a>
                </h2>
            </div>
        </div>
        <div class="row article-info">
            <div class="col-xs-6">
                <p><time><span class="glyphicon glyphicon-time"></span> {{ article.sent|humanized_timestamp }}</time></p>
            </div>
            <div class="col-xs-6 right">
                <p><a href="{{ article.url }}" title="{{ article.title }}" class="external-link">{{ article.domain }} <span class="glyphicon glyphicon-share-alt"></span></a></p>
            </div>                    
        </div>
        <div class="article-text">
        {{ article.body|safe }}
        </div>
    </article>

{% endblock %}

{% block javascript %}
$(function() {
    // $.fn.editable.defaults.mode = 'inline';
    // $('article header h3').editable({
    //     type: 'text', 
    //     url: '/save',
    //     title: 'Edit title',
    //     rows: 10
    // });
    // $('article div').editable({
    //     type: 'text', 
    //     url: '/save',
    //     title: 'Edit title',
    //     rows: 20
    // });
});
{% endblock %}